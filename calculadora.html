<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calculadora de intervalo entre datas</title>

    <!-- estilos visuais da pagina -->
     <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: aliceblue;
            padding: 20px;
            text-align: center;
        }

        h1 {
            color: #333;
        }

        label {
            font-weight: bold;
            display: block;
            margin-top: 10px;
        }

        input {
            padding: 5px;
            margin: 5px;
        }

        /* estilo dos botoes */
        button {
            margin-top: 15px;
            padding: 8px 20px;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #555;
        }

        /* estilo do botao de limpar (cinza)*/
        .btn-limpar {
            background-color: #888;
        }

        /* area de resultado */
        #resultado {
            margin-top: 20px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            display: inline-block;
            box-shadow: 0 0 5 rgba(0,0,0,0.1);
        }
     </style>
</head>
<body>
  <h1>Calculadora de Intervalo entre Datas</h1> 
  
  <!-- area de entrada entre datas -->
   
  <label for="data1">digite a primeira data:</label>
  <input type="date" id="data1">

  <label for="data2">digite a segunda data:</label>
  <input type="date" id="data2">

  <!-- botoes de ação-->

  <br>
  <button onclick="calcularintervalo()">calcular intervalo</button>
  <button class="btn-limpar" onclick="limparcampos()">limpar campos</button>

  <!-- onde o resultado sera exibido -->
    <div id="resultado"></div>

    <script>
        /*
        =================================================
        * funcao: calcularintervalo()
        * objetivo: calcular a diferenca entre duas datas
        * e mostrar o intervalo em dias meses e anos.
        * ===============================================
        * */

        function calcularintervalo() {

            //captura os valores informados pelo usuario
            const data1 = document.getElementById("data1").value;
            const data2 = document.getElementById("data2").value;

            //verifica se as datas foram preenchidas
            if (!data1 || !data2) {
                document.getElementById("resultado").innerHTML = 
                "<strong style='color: red;'>por favor, preencha ambas as datas!</strong>";
                return; //interrompe a funcao se faltar alguma data
            }
          

            //converte as strings para objetos Date
            const d1 = new Date(data1);
            const d2 = new Date(data2);

            //calcula a diferenca entre as datas em milissegundos
            //a subtracao entre dois objetos date retorna o intervalo em milissegundos
            const diffEmMs = Math.abs(d2 - d1); //Math.abs() para garantir valor positivo

            /*
            ====================================================
            EXPLICACAO 
            
            * 1 segundo = 1000 milissegundos
            * 1 minuto = 60 segundos
            * 1 hora = 60 minutos
            * 1 dia = 24 horas
            * *logo, 1 dia = 1000 * 60 * 60 * 24 milissegundos
            ====================================================
            */
           const diffEmDias = Math.floor(diffEmMs / (1000 * 60 * 60 * 24));

           /*
           * converte dias em meses ae anos de forma aproximada 
           * OBS: essa aproximacao considera 30 dias por mes e 12 meses por ano.
           * suficiente para fins didaticos.
           */
          const diffEmMeses = Math.floor(diffEmDias / 30);
          const diffEmAnos = Math.floor((diffEmMeses / 12));

          //exibe o resultado formatado na pagina dentro da div resultado
            document.getElementById("resultado").innerHTML = `
            <h3>resultado:</h3>
            <p><strong>diferenca em dias:</strong> ${diffEmDias} dias</p>
            <p><strong>diferenca em meses (aproximado):</strong> ${diffEmMeses} meses</p>
            <p><strong>diferenca em anos (aproximado):</strong> ${diffEmAnos} anos</p>;
            `;
        }
            
            /*
            ==================================================
            * funcao: limparcampos()
            * objetivo: limpar os campos de data e resultado
            ==================================================
            */
        function limparcampos() {
            //apaga os valores digitatdos nos inputs
            document.getElementById("data1").value = "";
            document.getElementById("data2").value = "";

            //limpa a area de resultado
            document.getElementById("resultado").innerHTML = "";

            //(opcional) foca novamente no primeiro campo
            document.getElementById("data1").focus();
        }
    </script>
</body>
</html>